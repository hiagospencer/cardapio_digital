
const menuData = {
  "frutos-mar": [
    {
      id: 1,
      name: "Carangueijo",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/carangueijo.jpg",
    },
    {
      id: 2,
      name: "Polvo",
      description:
        "Tentáculos de polvo grelhados com maestria, servidos sobre um cremoso molho verde à base de ervas frescas e azeite extravirgem. A textura macia e o sabor marcante do polvo se harmonizam com o frescor do molho, criando uma experiência gastronômica única.",
      price: "R$ 40,00",
      image: "img-marlonista/img/polvo.jpg",
    },
    {
      id: 3,
      name: "Filé de Siri",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/file-siri.jpg",
    },
    {
      id: 4,
      name: "Buzios",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/buzios.jpg",
    },
    {
      id: 5,
      name: "Sururu",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/porcao-sururu.jpg",
    },
  ],
  lagostas: [
    {
      id: 6,
      name: "Lagosta Gratinada",
      description: "",
      price: "R$ 160,00",
      image: "img-marlonista/img/lagosta-gratinada.jpg",
    },
    {
      id: 7,
      name: "Lagosta com Frutas",
      description: "",
      price: "R$ 130,00",
      image: "img-marlonista/lagosta-frutas.jpg",
    },
    {
      id: 8,
      name: "Parmegiana de Lagosta",
      description: "",
      price: "R$ 150,00",
      image: "img-marlonista/img/parmegiana-lagosta.jpg",
    },
    {
      id: 9,
      name: "Pernil de Lagosta",
      description: "",
      price: "R$ 90,00",
      image: "img-marlonista/img/pernil-lagosta.jpg",
    },
    {
      id: 10,
      name: "Lagosta Empanada",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/lagosta-emapanada.jpg",
    },
    {
      id: 11,
      name: "Lagosta ao Molho",
      description: "",
      price: "R$ 120,00",
      image: "img-marlonista/img/lagosta-molho.jpg",
    },
    {
      id: 12,
      name: "Lasanha de Lagosta",
      description: "",
      price: "R$ 160,00",
      image: "img-marlonista/img/lasanha-lagosta.jpg",
    },
  ],
  camaroes: [
    {
      id: 13,
      name: "Risoto de Camarões",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/risoto-camarao.jpg",
    },
    {
      id: 14,
      name: "Camarões ao Molho",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/camarao-molho.jpg",
    },
    {
      id: 15,
      name: "Camarões no Morango",
      description: "",
      price: "R$ 80,00",
      image: "img-marlonista/img/camarao-morango.jpg",
    },
    {
      id: 15,
      name: "Camarões no Maracujá",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/camarao-maracuja.jpg",
    },
    {
      id: 16,
      name: "Camarões no Coco",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/camarao-coco.jpg",
    },
    {
      id: 16,
      name: "Camarões ao Alho e Óleo",
      description: "",
      price: "R$ 50,00",
      image: "img-marlonista/img/camarao-emapanado.jpg",
    },
    {
      id: 16,
      name: "Lasanha de Camarões",
      description: "",
      price: "R$ 80,00",
      image: "img-marlonista/lasanha-camarao.jpg",
    },
    {
      id: 17,
      name: "Guacamole",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/img/guacamole-camarao.jpg",
    },
    {
      id: 18,
      name: "Strogonoff de Camarões",
      description: "",
      price: "R$ 80,00",
      image: "img-marlonista/img/strongonoff-camarao.jpg",
    },
    {
      id: 19,
      name: "Camarões no Abacaxi",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/camarao-abacaxi.jpg",
    },
    {
      id: 20,
      name: "Camarões Empanado",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/camarao-empanado.jpg",
    },
    {
      id: 21,
      name: "Paella de Camarões",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/Paella-camarao.jpg",
    },
  ],
  peixes: [
    {
      id: 22,
      name: "Peixe Frito",
      description:
        "",
      price: "R$ 60,00",
      image: "img-marlonista/img/peixe-frito.jpg",
    },
    {
      id: 123,
      name: "Peixe Grelhado",
      description:
        "",
      price: "R$ 60,00",
      image: "img-marlonista/peixe-grelhado.jpg",
    },
    {
      id: 12,
      name: "Camarão com Arroz Refogado",
      description:
        "Camarões frescos salteados com alho, cebola e ervas aromáticas, envolvidos em um arroz refogado com açafrão, pimentões e temperos da casa. ",
      price: "R$ 18,90",
      image: "img-marlonista/camarao-arroz-refogado.jpg",
    },
  ],
  carnes: [
    {
      id: 13,
      name: "Suco Natural de Laranja",
      description: "Suco de laranja fresco espremido na hora.",
      price: "R$ 12,90",
      image:
        "https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 14,
      name: "Caipirinha de Limão",
      description:
        "Tradicional caipirinha brasileira com limão e cachaça premium.",
      price: "R$ 18,90",
      image:
        "https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 15,
      name: "Refrigerante Artesanal",
      description: "Refrigerante artesanal sabor limão siciliano.",
      price: "R$ 14,50",
      image:
        "https://images.unsplash.com/photo-1544145945-f90425340c7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
  ],
  acompanhamentos: [
    {
      id: 16,
      name: "Vinho Tinto Reserva",
      description:
        "Vinho tinto reserva, safra 2018, harmoniza com carnes vermelhas.",
      price: "R$ 89,90",
      image:
        "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 17,
      name: "Vinho Branco Sauvignon Blanc",
      description:
        "Vinho branco seco, ideal para acompanhar peixes e frutos do mar.",
      price: "R$ 75,50",
      image:
        "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 18,
      name: "Espumante Brut",
      description: "Espumante brut nacional, ideal para celebrações.",
      price: "R$ 62,90",
      image:
        "https://images.unsplash.com/photo-1568216651129-ead9c19e6d33?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
  ],
  petiscos: [
    {
      id: 19,
      name: "Batata Frita",
      description: "",
      price: "R$ 15,00",
      image:
        "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 20,
      name: "Macaxeira Frita",
      description: "",
      price: "R$ 15,00",
      image:
        "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 21,
      name: "Croquete",
      description: "",
      price: "R$ 3,50 UND",
      image:
        "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
    {
      id: 22,
      name: "Porções de camarões",
      description: "",
      price: "R$ 70,00",
      image:
        "https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
    },
  ],
};

// Elementos DOM
const categoryItems = document.querySelectorAll(".category-item");
const categoryTitle = document.getElementById("categoryTitle");
const productsTable = document.getElementById("productsTable");
const menuToggle = document.getElementById("menuToggle");
const sidebar = document.getElementById("sidebar");
const imageModal = document.getElementById("imageModal");
const modalImage = document.getElementById("modalImage");
const modalCaption = document.getElementById("modalCaption");
const closeModal = document.getElementById("closeModal");

// Função para carregar produtos de uma categoria
function loadCategory(category) {
  // Atualizar título da categoria
  categoryTitle.textContent =
    categoryItems[getCategoryIndex(category)].textContent.trim();

  // Limpar tabela de produtos
  productsTable.innerHTML = "";

  // Obter produtos da categoria selecionada
  const products = menuData[category];

  // Adicionar produtos à tabela
  products.forEach((product) => {
    const productRow = document.createElement("div");
    productRow.className = "product-row";

    productRow.innerHTML = `
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <span class="product-price">${product.price}</span>
                    </div>
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                `;

    productsTable.appendChild(productRow);
  });
}

// Função auxiliar para obter o índice da categoria
function getCategoryIndex(category) {
  const categories = Array.from(categoryItems).map(
    (item) => item.dataset.category
  );
  return categories.indexOf(category);
}

// Adicionar event listeners para as categorias
categoryItems.forEach((item) => {
  item.addEventListener("click", function () {
    // Remover classe active de todos os itens
    categoryItems.forEach((i) => i.classList.remove("active"));

    // Adicionar classe active ao item clicado
    this.classList.add("active");

    // Carregar produtos da categoria selecionada
    loadCategory(this.dataset.category);

    // Fechar menu lateral em dispositivos móveis
    if (window.innerWidth <= 768) {
      sidebar.classList.remove("active");
    }
  });
});

// Event listener para o botão de menu móvel
menuToggle.addEventListener("click", function () {
  sidebar.classList.toggle("active");
});

// Fechar menu lateral ao clicar fora dele em dispositivos móveis
document.addEventListener("click", function (event) {
  if (
    window.innerWidth <= 768 &&
    !sidebar.contains(event.target) &&
    !menuToggle.contains(event.target) &&
    sidebar.classList.contains("active")
  ) {
    sidebar.classList.remove("active");
  }
});

function openModal(imageSrc, productName) {
  modalImage.src = imageSrc;
  modalCaption.textContent = productName;
  imageModal.classList.add("active");
  document.body.style.overflow = "hidden"; // Previne scroll da página
}

// Função para fechar o modal
function closeImageModal() {
  imageModal.classList.remove("active");
  document.body.style.overflow = ""; // Restaura scroll da página
}

// Event listener para fechar modal
closeModal.addEventListener("click", closeImageModal);

// Fechar modal ao clicar fora da imagem
imageModal.addEventListener("click", function (event) {
  if (event.target === imageModal) {
    closeImageModal();
  }
});

// Fechar modal com tecla ESC
document.addEventListener("keydown", function (event) {
  if (event.key === "Escape" && imageModal.classList.contains("active")) {
    closeImageModal();
  }
});

// Modificar a função loadCategory para adicionar event listeners às imagens
function loadCategory(category) {
  // Atualizar título da categoria
  categoryTitle.textContent =
    categoryItems[getCategoryIndex(category)].textContent.trim();

  // Limpar tabela de produtos
  productsTable.innerHTML = "";

  // Obter produtos da categoria selecionada
  const products = menuData[category];

  // Adicionar produtos à tabela
  products.forEach((product) => {
    const productRow = document.createElement("div");
    productRow.className = "product-row";

    productRow.innerHTML = `
                <div class="product-info">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <span class="product-price">${product.price}</span>
                </div>
                <div class="product-image">
                    <img src="${product.image}" alt="${product.name}" class="product-thumbnail">
                </div>
            `;

    productsTable.appendChild(productRow);
  });

  // Adicionar event listeners para as imagens dos produtos
  setTimeout(() => {
    const productImages = document.querySelectorAll(".product-thumbnail");
    productImages.forEach((img, index) => {
      img.addEventListener("click", function () {
        const product = products[index];
        openModal(product.image, product.name);
      });

      // Adicionar cursor pointer para indicar que é clicável
      img.style.cursor = "pointer";

      // Efeito de hover na imagem
      img.addEventListener("mouseenter", function () {
        this.style.transform = "scale(1.05)";
        this.style.transition = "transform 0.3s ease";
      });

      img.addEventListener("mouseleave", function () {
        this.style.transform = "scale(1)";
      });
    });
  }, 0);
}

// Carregar categoria inicial
loadCategory("frutos-mar");
