
const menuData = {
  "frutos-mar": [
    {
      id: 1,
      name: "Carangueijo",
      description: "",
      price: "R$ 5,00 UND",
      image: "img-marlonista/carangueijo.jpg",
    },
    {
      id: 2,
      name: "Polvo",
      description: "",
      price: `P - R$ 60,00 | G - R$ 90,00
      `,
      image: "img-marlonista/img/polvo.jpg",
    },
    {
      id: 3,
      name: "Filé de Siri",
      description: "",
      price: "R$ 50,00",
      image: "img-marlonista/img/file-siri.jpg",
    },
    {
      id: 4,
      name: "Buzios",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/buzios.jpg",
    },
    {
      id: 5,
      name: "Sururu",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/porcao-sururu.jpg",
    },
  ],
  lagostas: [
    {
      id: 6,
      name: "Lagosta Gratinada",
      description: "",
      price: "R$ 160,00",
      image: "img-marlonista/img/lagosta-gratinada.jpg",
    },
    {
      id: 7,
      name: "Lagosta com Frutas",
      description: "",
      price: "R$ 130,00",
      image: "img-marlonista/lagosta-frutas.jpg",
    },
    {
      id: 8,
      name: "Parmegiana de Lagosta",
      description: "",
      price: "R$ 150,00",
      image: "img-marlonista/img/parmegiana-lagosta.jpg",
    },
    {
      id: 9,
      name: "Pernil de Lagosta",
      description: "",
      price: "R$ 90,00",
      image: "img-marlonista/img/pernil-lagosta.jpg",
    },
    {
      id: 10,
      name: "Lagosta Empanada",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/lagosta-emapanada.jpg",
    },
    {
      id: 11,
      name: "Lagosta ao Molho",
      description: "",
      price: "R$ 120,00",
      image: "img-marlonista/img/lagosta-molho.jpg",
    },
    {
      id: 12,
      name: "Lasanha de Lagosta",
      description: "",
      price: "R$ 160,00",
      image: "img-marlonista/img/lasanha-lagosta.jpg",
    },
  ],
  camaroes: [
    {
      id: 13,
      name: "Crocretes de camarões",
      description: "",
      price: "R$ 3,50 UND",
      image: "img-marlonista/img/risoto-camarao.jpg",
    },
    {
      id: 14,
      name: "Camarões ao Molho",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/camarao-molho.jpg",
    },
    {
      id: 15,
      name: "Camarões no Morango",
      description: "",
      price: "R$ 80,00",
      image: "img-marlonista/img/camarao-morango.jpg",
    },
    {
      id: 42,
      name: "Camarões na Moranga",
      description: "",
      price: "R$ 120,00",
      image: "img-marlonista/img/camarao-gerimum.jpg",
    },
    {
      id: 43,
      name: "Camarões no Maracujá",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/camarao-maracuja.jpg",
    },
    {
      id: 16,
      name: "Camarões no Coco",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/camarao-coco.jpg",
    },
    {
      id: 40,
      name: "Camarões ao Alho e Óleo",
      description: "",
      price: "R$ 50,00",
      image: "img-marlonista/img/camarao-alho-oleo.jpg",
    },
    {
      id: 41,
      name: "Lasanha de Camarões",
      description: "",
      price: "R$ 80,00",
      image: "img-marlonista/lasanha-camarao.jpg",
    },
    {
      id: 17,
      name: "Guacamole",
      description: "",
      price: "R$ 40,00",
      image: "img-marlonista/img/guacamole-camarao.jpg",
    },
    {
      id: 18,
      name: "Strogonoff de Camarões",
      description: "",
      price: "R$ 80,00",
      image: "img-marlonista/img/strongonoff-camarao.jpg",
    },
    {
      id: 19,
      name: "Camarões no Abacaxi",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/img/camarao-abacaxi.jpg",
    },
    {
      id: 20,
      name: "Camarões Empanado",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/camarao-empanado.jpg",
    },
    {
      id: 21,
      name: "Paella",
      description: "",
      price: "R$ 180,00",
      image: "img-marlonista/img/Paella-camarao.jpg",
    },
    {
      id: 22,
      name: "Parmegiana de Camarões",
      description: "",
      price: "1 Pessoa: R$ 30,00",
      image: "img-marlonista/img/parmegiana-camarao.jpg",
    },
  ],
  peixes: [
    {
      id: 23,
      name: "Peixe Frito",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/peixe-frito.jpg",
    },
    {
      id: 24,
      name: "Peixe Grelhado",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/peixe-grelhado.jpg",
    },
    {
      id: 25,
      name: "Filé de Peixe",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/file-peixe.jpg",
    },
    {
      id: 26,
      name: "Ensopado de Peixe",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/ensopado-peixe.jpg",
    },
  ],
  carnes: [
    {
      id: 27,
      name: "Galinha",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/galinha.jpg",
    },
    {
      id: 28,
      name: "Pato",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/pato.jpg",
    },
    {
      id: 29,
      name: "Favada",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/fava.jpg",
    },
    {
      id: 29,
      name: "Contra Filé Acebolado",
      description: "",
      price: "R$ 60,00",
      image: "img-marlonista/img/contra-file.jpg",
    },
    {
      id: 29,
      name: "Filé com Fritas",
      description: "",
      price: "R$ 50,00",
      image: "img-marlonista/img/file-fritas.jpg",
    },
  ],
  acompanhamentos: [
    {
      id: 30,
      name: "Arroz Branco",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/Arroz-branco.webp",
    },
    {
      id: 31,
      name: "Arroz Refogado",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/arroz-refogado.webp",
    },
    {
      id: 32,
      name: "Arroz Carreteiro",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/Arroz-carreteiro.webp",
    },
    {
      id: 33,
      name: "Feijão Verde",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/feijao-verde.jpg",
    },
    {
      id: 34,
      name: "Feijão Corda",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/feijao-corda.jpg",
    },
    {
      id: 34,
      name: "Feijão Preto",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/feijao-preto.jpg",
    },
    {
      id: 35,
      name: "Feijão Tropeiro",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/feijao-tropeiro.jpg",
    },
    {
      id: 36,
      name: "Feijoada",
      description: "",
      price: "R$ 20,00",
      image: "img-marlonista/feijoada.webp",
    },
    {
      id: 36,
      name: "Baião de Dois",
      description: "",
      price: "R$ 10,00",
      image: "img-marlonista/baiao-dois.jpeg",
    },
  ],
  petiscos: [
    {
      id: 37,
      name: "Batata Frita",
      description: "",
      price: "R$ 15,00",
      image: "img-marlonista/batata-frita.webp",
    },
    {
      id: 38,
      name: "Macaxeira Frita",
      description: "",
      price: "R$ 15,00",
      image: "img-marlonista/macaxeira.jpg",
    },
    {
      id: 39,
      name: "Porção de camarões",
      description: "",
      price: "R$ 70,00",
      image: "img-marlonista/porcao-camarao.jpg",
    },
  ],
  sucos: [
    {
      id: 44,
      name: "Coco",
      description: "",
      price: "Jarra P: R$ 15,00 - Jarra G: R$ 25,00",
      image: "img-marlonista/img/suco-coco.jpg",
    },
    {
      id: 45,
      name: "Manjericão com Limão",
      description: "",
      price: "Jarra P: R$ 15,00 - Jarra G: R$ 25,00",
      image: "img-marlonista/img/suco-manjericao-limao.jpg",
    },
    {
      id: 46,
      name: "Tamarindo",
      description: "",
      price: "Jarra P: R$ 10,00 - Jarra G: R$ 20,00",
      image: "img-marlonista/img/suco-tamarindo.jpg",
    },
    {
      id: 47,
      name: "Abacaxi com Hortelã",
      description: "",
      price: "Jarra P: R$ 10,00 - Jarra G: R$ 20,00",
      image: "img-marlonista/img/suco-abacaxi-hortela.jpg",
    },
    {
      id: 48,
      name: "Acerola",
      description: "",
      price: "Jarra P: R$ 10,00 - Jarra G: R$ 20,00",
      image: "img-marlonista/img/suco-acerola.webp",
    },
    {
      id: 49,
      name: "Caju",
      description: "",
      price: "Jarra P: R$ 10,00 - Jarra G: R$ 20,00",
      image: "img-marlonista/img/suco-caju.jpg",
    },
    {
      id: 50,
      name: "Manga",
      description: "",
      price: "Jarra P: R$ 10,00 - Jarra G: R$ 20,00",
      image: "img-marlonista/img/suco-manga.jpg",
    },
    {
      id: 51,
      name: "Uva",
      description: "",
      price: "Jarra P: R$ 10,00 - Jarra G: R$ 20,00",
      image: "img-marlonista/img/suco-uva.jpg",
    },
  ],
};

// Elementos DOM
const categoryItems = document.querySelectorAll(".category-item");
const categoryTitle = document.getElementById("categoryTitle");
const productsTable = document.getElementById("productsTable");
const menuToggle = document.getElementById("menuToggle");
const sidebar = document.getElementById("sidebar");
const imageModal = document.getElementById("imageModal");
const modalImage = document.getElementById("modalImage");
const modalCaption = document.getElementById("modalCaption");
const closeModal = document.getElementById("closeModal");

// Função para carregar produtos de uma categoria
function loadCategory(category) {
  // Atualizar título da categoria
  categoryTitle.textContent =
    categoryItems[getCategoryIndex(category)].textContent.trim();

  // Limpar tabela de produtos
  productsTable.innerHTML = "";

  // Obter produtos da categoria selecionada
  const products = menuData[category];

  // Adicionar produtos à tabela
  products.forEach((product) => {
    const productRow = document.createElement("div");
    productRow.className = "product-row";

    productRow.innerHTML = `
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <span class="product-price">${product.price}</span>
                    </div>
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                `;

    productsTable.appendChild(productRow);
  });
}

// Função auxiliar para obter o índice da categoria
function getCategoryIndex(category) {
  const categories = Array.from(categoryItems).map(
    (item) => item.dataset.category
  );
  return categories.indexOf(category);
}

// Adicionar event listeners para as categorias
categoryItems.forEach((item) => {
  item.addEventListener("click", function () {
    // Remover classe active de todos os itens
    categoryItems.forEach((i) => i.classList.remove("active"));

    // Adicionar classe active ao item clicado
    this.classList.add("active");

    // Carregar produtos da categoria selecionada
    loadCategory(this.dataset.category);

    // Fechar menu lateral em dispositivos móveis
    if (window.innerWidth <= 768) {
      sidebar.classList.remove("active");
    }
  });
});

// Event listener para o botão de menu móvel
menuToggle.addEventListener("click", function () {
  sidebar.classList.toggle("active");
});

// Fechar menu lateral ao clicar fora dele em dispositivos móveis
document.addEventListener("click", function (event) {
  if (
    window.innerWidth <= 768 &&
    !sidebar.contains(event.target) &&
    !menuToggle.contains(event.target) &&
    sidebar.classList.contains("active")
  ) {
    sidebar.classList.remove("active");
  }
});

function openModal(imageSrc, productName) {
  modalImage.src = imageSrc;
  modalCaption.textContent = productName;
  imageModal.classList.add("active");
  document.body.style.overflow = "hidden"; // Previne scroll da página
}

// Função para fechar o modal
function closeImageModal() {
  imageModal.classList.remove("active");
  document.body.style.overflow = ""; // Restaura scroll da página
}

// Event listener para fechar modal
closeModal.addEventListener("click", closeImageModal);

// Fechar modal ao clicar fora da imagem
imageModal.addEventListener("click", function (event) {
  if (event.target === imageModal) {
    closeImageModal();
  }
});

// Fechar modal com tecla ESC
document.addEventListener("keydown", function (event) {
  if (event.key === "Escape" && imageModal.classList.contains("active")) {
    closeImageModal();
  }
});

// Modificar a função loadCategory para adicionar event listeners às imagens
function loadCategory(category) {
  // Atualizar título da categoria
  categoryTitle.textContent =
    categoryItems[getCategoryIndex(category)].textContent.trim();

  // Limpar tabela de produtos
  productsTable.innerHTML = "";

  // Obter produtos da categoria selecionada
  const products = menuData[category];

  // Adicionar produtos à tabela
  products.forEach((product) => {
    const productRow = document.createElement("div");
    productRow.className = "product-row";

    productRow.innerHTML = `
                <div class="product-info">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <span class="product-price">${product.price}</span>
                </div>
                <div class="product-image">
                    <img src="${product.image}" alt="${product.name}" class="product-thumbnail">
                </div>
            `;

    productsTable.appendChild(productRow);
  });

  setTimeout(() => {
    const productImages = document.querySelectorAll(".product-thumbnail");
    productImages.forEach((img, index) => {
      img.addEventListener("click", function () {
        const product = products[index];
        openModal(product.image, product.name);
      });

      img.style.cursor = "pointer";
      img.addEventListener("mouseenter", function () {
        this.style.transform = "scale(1.05)";
        this.style.transition = "transform 0.3s ease";
      });

      img.addEventListener("mouseleave", function () {
        this.style.transform = "scale(1)";
      });
    });
  }, 0);
}

// Carregar categoria inicial
loadCategory("frutos-mar");
